# Git Standard Message

---

Git 提交备注的规范标准，核心在于**提供清晰的代码修改历史**，这对于团队协作、问题追踪和项目维护都至关重要。下面这个表格汇总了常见的提交类型及其适用场景：

| 类型        | 场景说明                                                                 | 示例                                     |
|-------------|--------------------------------------------------------------------------|------------------------------------------|
| **feat**    | 新增功能                                 | `feat(login): 添加用户短信登录功能`        |
| **fix**     | 修复 Bug                                 | `fix(payment): 处理未定义金额的错误`       |
| **docs**    | 仅修改文档                               | `docs(README): 更新项目安装指南`         |
| **style**   | 调整代码风格（如空格、分号），不改变代码逻辑 | `style(header): 统一文件缩进为两个空格`  |
| **refactor** | 重构代码，既非新增功能也非修复 Bug          | `refactor(auth): 简化用户验证逻辑`      |
| **test**    | 增加或修改测试用例                        | `test(user): 添加用户信息修改的测试用例` |
| **chore**   | 其他不修改代码或测试的变动（如构建流程、工具依赖） | `chore: 更新 webpack 配置`              |
| **perf**    | 性能优化                                        | `perf(image): 使用缓存优化图片加载速度`   |
| **build**   | 构建系统或外部依赖的改动（如 npm、webpack）                    | `build: 升级 TypeScript 至 5.0 版本`     |
| **ci**      | 持续集成相关的配置修改（如 GitHub Actions）                   | `ci: 添加自动化部署脚本`                |
| **revert**  | 回滚之前的某次提交                                  | `revert: 撤销某次有问题的功能提交`        |

### ✍️ 掌握提交信息的标准格式

一份结构清晰的提交信息通常包含三个部分：**标题（必填）**、**正文（选填）** 和 **页脚（选填）**，各部分之间用空行分隔。其基本格式如下：

```
<type>(<scope>): <subject>

<body>

<footer>
```

- **标题行（Subject）**：
    - **类型（type）**：使用上表中的关键字，表明提交的性质。
    - **范围（scope）**：可选，说明此次提交影响的项目模块或组件。例如 `login`、`payment`。如果影响多个模块，可用英文逗号分隔，例如 `(region,scheduler,monitor)`。
    - **主题（subject）**：简要描述本次提交的目的。**建议不超过50个字符**，**使用祈使句、现在时态**（如"添加"、"修复"，而不是"添加了"、"修复了"），**首字母小写，结尾不加句号**。

- **正文（Body）**：
    - 选填，是标题的更详细说明。
    - 可以描述**修改的背景或原因**、**具体修改内容**以及**开发的思路**等。
    - **建议每行不超过72个字符**，以便在某些终端中阅读。

- **页脚（Footer）**：
    - 选填，用于放置一些备注信息。
    - 通常包括**不兼容的变更（BREAKING CHANGE）** 说明和**关闭的Issue**（如 `Closes #123` 或 `Refs #133`）。

### 💡 了解规范备注的辅助工具

遵循规范一开始可能需要适应，有一些工具可以帮你更容易地生成符合规范的提交信息：

- **Commitizen**：这是一个交互式工具，可以通过命令行（如 `git cz`）一步步引导你输入提交的各个部分，最终生成符合规范的提交信息。
- **validate-commit-msg**：这个工具可以用来检查项目的提交信息是否符合预设的规范。

### 🛠️ 尝试在实际中应用

这里有一些具体的例子，你可以参考它们来编写自己的提交信息：

1. **示例一（新增功能）**：
   ```
   feat(login): 新增用户短信登录功能

   - 添加短信验证码发送接口
   - 实现短信验证码校验逻辑
   - 更新用户登录文档

   Closes #123
   ```
   *这个例子清晰地说明了新增的功能模块、具体改动内容以及关联的任务。*

2. **示例二（修复问题）**：
   ```
   fix(payment): 处理订单金额未定义时导致的页面错误

   当用户从特定链接直接进入支付页时，金额参数可能为空，现已添加默认值处理。
   ```
   *这个例子简洁地描述了问题场景和修复方案。*

3. **示例三（代码重构）**：
   ```
   refactor(auth): 简化用户令牌刷新逻辑

   将原有的多层条件判断重构为卫语句，提高代码可读性。
   未影响现有功能接口。
   ```
   *这个例子说明了重构的目的和效果，并强调了无影响的一面。*

希望这些信息能帮助你更好地规范 Git 提交备注。如果你对某个特定的提交类型或者格式细节还有疑问，我很乐意做进一步的解释。